import{d as F,e as i,f as b,r as l,o as B,c as y,a,u,g as V,b as e,h as c,l as f,i as C}from"./index.f4b1f889.js";import{h as x}from"./request.975d77f5.js";function k(d){return x.post("/login",d)}const D=c("\u767B\u5F55"),S=c("Cancel"),R=F({setup(d){const n=i(),o=b({username:"",password:""}),_=i(!1),g=i({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"change"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"change"}]}),w=async()=>{if(!n.value)return;if(!await n.value.validate())return!1;const t=await k(o).finally(()=>{f.show()}).catch(()=>{});console.log(t),f.hide(),await C.replace({name:"Index"})};return(h,t)=>{const m=l("el-input"),r=l("el-form-item"),p=l("el-button"),v=l("el-form");return B(),y(v,{model:u(o),"label-width":"120px",ref_key:"formRef",ref:n,rules:g.value,onSubmit:V(w,["prevent"])},{default:a(()=>[e(r,{label:"\u8D26\u53F7",prop:"username"},{default:a(()=>[e(m,{modelValue:u(o).username,"onUpdate:modelValue":t[0]||(t[0]=s=>u(o).username=s),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),e(r,{label:"\u5BC6\u7801",prop:"password"},{default:a(()=>[e(m,{modelValue:u(o).password,"onUpdate:modelValue":t[1]||(t[1]=s=>u(o).password=s),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",type:"password"},null,8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(p,{"native-type":"submit",type:"primary",loading:_.value},{default:a(()=>[D]),_:1},8,["loading"]),e(p,{"native-type":"reset"},{default:a(()=>[S]),_:1})]),_:1})]),_:1},8,["model","rules","onSubmit"])}}});export{R as default};
